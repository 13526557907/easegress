{
    "type": "Python",
    "config": {
        "plugin_name": "python.wechat_server",
        "code": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBlbmNvZGluZzogdXRmLTggLSotCgoKaW1wb3J0IG9zCmltcG9ydCBpdGNoYXQKZnJvbSBodHRwLnNlcnZlciBpbXBvcnQgQmFzZUhUVFBSZXF1ZXN0SGFuZGxlciwgSFRUUFNlcnZlcgpmcm9tIHB5cXJjb2RlIGltcG9ydCBRUkNvZGUKClFSX0ZJTEUgPSAncXIudHh0JwoKZGVmIHdyaXRlUXJUb0ZpbGUodXVpZCwgc3RhdHVzLCBxcmNvZGUpOgogICAgcXJDb2RlID0gUVJDb2RlKCdodHRwczovL2xvZ2luLndlaXhpbi5xcS5jb20vbC8nICsgdXVpZCkKCiAgICB3aXRoIG9wZW4oUVJfRklMRSwgJ3d0JykgYXMgZjoKICAgICAgICBwcmludF9xcihxckNvZGUudGV4dCgxKSwgZikKCmRlZiBwcmludF9xcihxclRleHQsIGYsIHdoaXRlPSdNTScsIGJsYWNrPScgICcsIGJsb2NrQ291bnQ9MSk6CiAgICB3aGl0ZSAqPSBhYnMoYmxvY2tDb3VudCkKICAgIHFyID0gcXJUZXh0LnJlcGxhY2UoJzAnLCB3aGl0ZSkucmVwbGFjZSgnMScsIGJsYWNrKQogICAgZi53cml0ZShxcikKCml0Y2hhdC5hdXRvX2xvZ2luKGhvdFJlbG9hZD1UcnVlLCBxckNhbGxiYWNrPXdyaXRlUXJUb0ZpbGUpCiMgaXRjaGF0LmF1dG9fbG9naW4oZW5hYmxlQ21kUVI9MikgIyBmb3IgZGVidWcgLSBsb2dpbiBxdWlja2x5CgpkZWYgc2VuZG91dF90b193ZWNoYXQoZmlsZW5hbWUsIGNvbnRlbnQpOgogICAgaXRjaGF0LmdldF9jaGF0cm9vbXModXBkYXRlPVRydWUsIGNvbnRhY3RPbmx5PUZhbHNlKQogICAgd2l0aCBvcGVuKGZpbGVuYW1lLCAnd2InKSBhcyBmOgogICAgICAgIGYud3JpdGUoY29udGVudCkKICAgIHRyeToKICAgICAgICBpdGNoYXQuc2VhcmNoX2NoYXRyb29tcyhuYW1lPSdCcmVha2luZyBOZXdzJylbMF0uc2VuZCgnQGZpbEAnK2ZpbGVuYW1lKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBwYXNzCiAgICBvcy5yZW1vdmUoZmlsZW5hbWUpCgoKY2xhc3MgV2VDaGF0VFRQU2VydmVyKEJhc2VIVFRQUmVxdWVzdEhhbmRsZXIpOgogICAgZGVmIGRvX1BPU1Qoc2VsZik6CiAgICAgICAgcHJlZml4ID0gJy91cGxvYWRfc3BlZWNoLycKICAgICAgICBpZiBsZW4oc2VsZi5wYXRoKSA8PSBsZW4ocHJlZml4KSBvciBzZWxmLnBhdGhbOmxlbihwcmVmaXgpXSAhPSBwcmVmaXg6CiAgICAgICAgICAgIHNlbGYuc2VuZF9lcnJvcig0MDQpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBmaWxlbmFtZSA9IHNlbGYucGF0aFtsZW4ocHJlZml4KTpdCgogICAgICAgIGNvbnRlbnRfbGVuID0gaW50KHNlbGYuaGVhZGVycy5nZXQoJ0NvbnRlbnQtTGVuZ3RoJykpCiAgICAgICAgY29udGVudCA9IHNlbGYucmZpbGUucmVhZChjb250ZW50X2xlbikKCiAgICAgICAgc2VuZG91dF90b193ZWNoYXQoZmlsZW5hbWUrJy5tcDMnLCBjb250ZW50KQoKICAgICAgICBzZWxmLnNlbmRfcmVzcG9uc2UoMjAwKQogICAgICAgIHNlbGYuZW5kX2hlYWRlcnMoKQoKICAgICAgICByZXR1cm4KCgpkZWYgcnVuKCk6CiAgICBzZXJ2ZXJfYWRkcmVzcyA9ICgnJywgODAwMCkKICAgIGh0dHBkID0gSFRUUFNlcnZlcihzZXJ2ZXJfYWRkcmVzcywgV2VDaGF0VFRQU2VydmVyKQogICAgaHR0cGQuc2VydmVfZm9yZXZlcigpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHJ1bigpCg==",
        "base64_encoded": true,
        "version": "3",
        "timeout_sec": 0
    }
}
