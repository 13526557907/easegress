{
    "type": "Python",
    "config": {
        "plugin_name": "python.parse_tweet_filename",
        "code": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBlbmNvZGluZzogdXRmLTggLSotCgoKJycnCkRlc2NyaXB0aW9uOgogICAgVGhpcyBzY3JpcHQgYWltcyB0byBwYXJzZSB0d2VldCBpbWcgdXJsIGZpZWxkIGZyb20gb25lIHR3ZWV0CklucHV0OiBvbmUgdHdlZXQgaW4ganNvbiBmb3JtYXQKICAgIHsKICAgICAgICAidGV4dCI6ICJ0d2VldCB0ZXh0IHdoaWNoIGNvdWxkIGJlIGVtcHR5IiwKICAgICAgICAiaW1hZ2VfdXJsIjogInR3ZWV0IGltYWdlIHVybCIKICAgICAgICAidXNlcl9uYW1lIjogInRoZSB0d2VldCB1c2VyIG5hbWUiLAogICAgICAgICJjcmVhdGVkX2F0IjogIkZyaSBBdWcgMjUgMTY6MTc6MzUgMjAxNyIKICAgIH0KCk91dHB1dDogc3BlZWNoIGZpbGVuYW1lIGluIHRleHQgZm9ybWF0CiAgICBuZXdzQDA4LTI1LTAzOjM3CicnJwoKaW1wb3J0IGNhbGVuZGFyCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKaW1wb3J0IGpzb24KaW1wb3J0IHN0cmluZwppbXBvcnQgc3lzCgoKZGVmIHV0Y190b19sb2NhbCh1dGNfZHQpOgogICAgIyBnZXQgaW50ZWdlciB0aW1lc3RhbXAgdG8gYXZvaWQgcHJlY2lzaW9uIGxvc3QKICAgIHRpbWVzdGFtcCA9IGNhbGVuZGFyLnRpbWVnbSh1dGNfZHQudGltZXR1cGxlKCkpCiAgICBsb2NhbF9kdCA9IGRhdGV0aW1lLmZyb210aW1lc3RhbXAodGltZXN0YW1wKQogICAgcmV0dXJuIGxvY2FsX2R0LnJlcGxhY2UobWljcm9zZWNvbmQ9dXRjX2R0Lm1pY3Jvc2Vjb25kKQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICB0cnk6CiAgICAgICAgdHdlZXQgPSBqc29uLmxvYWRzKHN5cy5zdGRpbi5yZWFkKCkpCiAgICAgICAgY3JlYXRlZF9hdCA9IHR3ZWV0LmdldCgnY3JlYXRlZF9hdCcpCiAgICAgICAgZHQgPSBkYXRldGltZS5zdHJwdGltZShjcmVhdGVkX2F0LCAnJWMnKQogICAgICAgIGR0ID0gdXRjX3RvX2xvY2FsKGR0KQoKICAgICAgICBmaWxlbmFtZSA9ICdORVdTQCcrIGR0LnN0cmZ0aW1lKCclYiVkLSVIOiVNJykKICAgICAgICBwcmludChmaWxlbmFtZSwgZW5kPScnKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGVycl9tc2cgPSAncHl0aG9uIHNjcmlwdCBwYXJzZSB0d2VldCB0ZXh0IGZhaWxlZDoge30nLmZvcm1hdChlKQogICAgICAgIHByaW50KGVycl9tc2csIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICBzeXMuZXhpdCgxKQo=",
        "base64_encoded": true,
        "version": "3",
        "timeout_sec": 5,
        "input_buffer_pattern": "{TWEET}",
        "output_key": "TWEET_FILENAME"
    }
}
